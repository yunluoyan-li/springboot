<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>申请领养</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header">
                        <h3 class="mb-0"><i class="fas fa-heart"></i> 申请领养</h3>
                    </div>
                    <div class="card-body">
                        <!-- 宠物信息 -->
                        <div class="row mb-4">
                            <div class="col-md-4">
                                <img th:if="${pet.images != null and !pet.images.isEmpty() and pet.images[0].imageUrl != null}" 
                                     th:src="${pet.images[0].imageUrl}" 
                                     class="img-fluid rounded" alt="宠物照片">
                                <div th:if="${pet.images == null or pet.images.isEmpty() or pet.images[0].imageUrl == null}" 
                                     class="bg-light rounded d-flex align-items-center justify-content-center" 
                                     style="height: 200px;">
                                    <i class="fas fa-paw fa-3x text-muted"></i>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <h4 th:text="${pet.name}">宠物名称</h4>
                                <p class="text-muted">
                                    <i class="fas fa-tag"></i> 
                                    <span th:text="${pet.breed != null ? pet.breed.name : '未知品种'}"></span>
                                </p>
                                <p class="text-muted">
                                    <i class="fas fa-birthday-cake"></i> 
                                    年龄：<span th:text="${pet.age}"></span>岁
                                </p>
                                <p class="text-muted">
                                    <i class="fas fa-venus-mars"></i> 
                                    性别：<span th:text="${pet.gender}"></span>
                                </p>
                                <p th:if="${pet.description != null}" class="text-muted">
                                    <i class="fas fa-info-circle"></i> 
                                    <span th:text="${pet.description}"></span>
                                </p>
                            </div>
                        </div>

                        <hr>

                        <!-- 申请表单 -->
                        <form th:action="@{/adoption/apply}" th:object="${application}" method="post">
                            <input type="hidden" name="petId" th:value="${pet.petId}">
                            
                            <div class="mb-3">
                                <label for="applicationText" class="form-label">
                                    <i class="fas fa-comment"></i> 申请理由 *
                                </label>
                                <textarea class="form-control" id="applicationText" 
                                          name="applicationText" rows="4" 
                                          placeholder="请详细说明您想要领养这个宠物的理由..."
                                          required></textarea>
                                <div class="form-text">请详细说明您想要领养这个宠物的原因和动机。</div>
                            </div>

                            <div class="mb-3">
                                <label for="homeDescription" class="form-label">
                                    <i class="fas fa-home"></i> 家庭环境描述 *
                                </label>
                                <textarea class="form-control" id="homeDescription" 
                                          name="homeDescription" rows="4" 
                                          placeholder="请描述您的家庭环境，包括居住条件、家庭成员等..."
                                          required></textarea>
                                <div class="form-text">请描述您的居住环境、家庭成员情况、是否有其他宠物等。</div>
                            </div>

                            <div class="mb-3">
                                <label for="experience" class="form-label">
                                    <i class="fas fa-star"></i> 养宠经验
                                </label>
                                <textarea class="form-control" id="experience" 
                                          name="experience" rows="3" 
                                          placeholder="请描述您之前的养宠经验（如果有的话）..."></textarea>
                                <div class="form-text">如果您之前有养宠物的经验，请详细描述。</div>
                            </div>

                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                <strong>温馨提示：</strong>
                                <ul class="mb-0 mt-2">
                                    <li>请确保您有足够的时间和精力照顾宠物</li>
                                    <li>请确保您的经济条件能够承担宠物的日常开销</li>
                                    <li>请确保您的居住环境适合养宠物</li>
                                    <li>申请提交后，我们将尽快审核并通知您结果</li>
                                </ul>
                            </div>

                            <div class="d-flex justify-content-between">
                                <a href="/pets/list" class="btn btn-secondary">
                                    <i class="fas fa-arrow-left"></i> 返回宠物列表
                                </a>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-paper-plane"></i> 提交申请
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 