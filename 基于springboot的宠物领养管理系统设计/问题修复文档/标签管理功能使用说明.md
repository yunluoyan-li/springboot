# 标签管理功能使用说明

## 功能概述

标签管理模块是宠物领养系统的重要组成部分，用于管理宠物的标签信息。标签可以帮助用户更好地分类和搜索宠物，提高用户体验。

## 主要功能

### 1. 标签列表管理
- **访问路径**: `/tags/list`
- **功能描述**: 查看所有标签的列表，包括标签名称、颜色、使用统计等信息
- **主要操作**:
  - 查看标签详情
  - 编辑标签信息
  - 删除标签
  - 查看标签统计

### 2. 添加新标签
- **访问路径**: `/tags/add`
- **功能描述**: 创建新的标签
- **必填字段**:
  - 标签名称（必填）
  - 标签颜色（可选，默认灰色）
- **自动生成**:
  - Slug（URL友好标识符，可自动生成）

### 3. 编辑标签
- **访问路径**: `/tags/edit/{id}`
- **功能描述**: 修改现有标签的信息
- **可编辑字段**:
  - 标签名称
  - Slug
  - 标签颜色

### 4. 标签详情
- **访问路径**: `/tags/detail/{id}`
- **功能描述**: 查看标签的详细信息和使用统计

### 5. 标签统计
- **访问路径**: `/tags/stats`
- **功能描述**: 查看标签的使用统计和分布情况

## 数据库设计

### 标签表 (tags)
```sql
CREATE TABLE tags (
    tag_id INT PRIMARY KEY AUTO_INCREMENT COMMENT '标签ID',
    name VARCHAR(50) NOT NULL COMMENT '标签名称',
    slug VARCHAR(50) NOT NULL UNIQUE COMMENT 'URL友好名称',
    color VARCHAR(20) COMMENT '标签颜色',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间'
);
```

### 宠物标签关联表 (pet_tags)
```sql
CREATE TABLE pet_tags (
    pet_id BIGINT NOT NULL COMMENT '宠物ID',
    tag_id INT NOT NULL COMMENT '标签ID',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    PRIMARY KEY (pet_id, tag_id),
    FOREIGN KEY (pet_id) REFERENCES pets(pet_id) ON DELETE CASCADE,
    FOREIGN KEY (tag_id) REFERENCES tags(tag_id) ON DELETE CASCADE
);
```

## 使用流程

### 1. 创建标签
1. 点击导航栏中的"标签管理"
2. 点击"添加标签"按钮
3. 填写标签名称（必填）
4. 选择标签颜色（可选）
5. 点击"保存标签"按钮

### 2. 管理标签
1. 在标签列表中查看所有标签
2. 点击"查看"按钮查看标签详情
3. 点击"编辑"按钮修改标签信息
4. 点击"删除"按钮删除标签（谨慎操作）

### 3. 查看统计
1. 在标签列表页面点击"查看统计"
2. 查看标签使用情况统计
3. 查看标签颜色分布

## 技术实现

### 后端组件
- **TagDao**: 数据访问层接口
- **TagService**: 业务逻辑层接口
- **TagServiceImpl**: 业务逻辑层实现
- **TagController**: 控制器层
- **TagMapper.xml**: MyBatis映射文件

### 前端模板
- **list.html**: 标签列表页面
- **add.html**: 添加标签页面
- **edit.html**: 编辑标签页面
- **detail.html**: 标签详情页面
- **stats.html**: 标签统计页面

## API接口

### 标签管理API
- `GET /tags/list` - 标签列表页面
- `GET /tags/add` - 添加标签页面
- `POST /tags/add` - 添加标签
- `GET /tags/edit/{id}` - 编辑标签页面
- `POST /tags/edit` - 更新标签
- `GET /tags/delete/{id}` - 删除标签
- `GET /tags/detail/{id}` - 标签详情页面
- `GET /tags/stats` - 标签统计页面

### AJAX API
- `GET /tags/api/all` - 获取所有标签（JSON）
- `GET /tags/api/pet/{petId}` - 获取宠物的标签
- `POST /tags/api/pet/{petId}/add/{tagId}` - 为宠物添加标签
- `DELETE /tags/api/pet/{petId}/remove/{tagId}` - 为宠物移除标签

## 注意事项

### 1. 标签命名规范
- 使用简洁明了的名称
- 避免重复的标签名称
- 使用中文或英文
- 长度控制在2-10个字符

### 2. 颜色选择建议
- 主要标签：蓝色 (#007bff)
- 成功标签：绿色 (#28a745)
- 警告标签：橙色 (#ffc107)
- 危险标签：红色 (#dc3545)
- 信息标签：青色 (#17a2b8)
- 次要标签：灰色 (#6c757d)

### 3. 删除注意事项
- 删除标签前请确认没有宠物在使用该标签
- 删除操作不可恢复
- 建议先查看标签使用情况再决定是否删除

### 4. 性能考虑
- 标签数量不宜过多，建议控制在100个以内
- 定期清理未使用的标签
- 监控标签使用频率，优化热门标签

## 扩展功能

### 1. 标签搜索
- 支持按标签名称搜索
- 支持按标签颜色筛选
- 支持按使用频率排序

### 2. 标签导入导出
- 支持批量导入标签
- 支持导出标签数据
- 支持标签数据备份

### 3. 标签推荐
- 基于使用频率推荐标签
- 基于宠物特征推荐标签
- 智能标签匹配

## 常见问题

### Q1: 标签名称重复怎么办？
A1: 系统会自动检查标签名称是否重复，如果重复会提示错误。

### Q2: 删除标签会影响宠物吗？
A2: 删除标签会同时删除宠物与标签的关联关系，但不会影响宠物本身的信息。

### Q3: 如何批量管理标签？
A3: 目前系统支持单个标签管理，批量功能正在开发中。

### Q4: 标签颜色可以自定义吗？
A4: 可以，系统支持选择任意颜色，也可以输入颜色代码。

## 更新日志

### v1.0.0 (2024-01-01)
- 实现基础的标签CRUD功能
- 添加标签统计功能
- 实现标签与宠物的关联管理
- 完成前端界面开发 