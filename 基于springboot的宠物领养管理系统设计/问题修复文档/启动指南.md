# 🚀 宠物领养系统启动指南

## 问题诊断

你遇到的登录问题主要是因为应用程序没有启动。从错误信息可以看出：
- `mvn` 命令未找到 - 说明系统没有安装Maven
- 应用程序无法启动，导致API无法访问

## 解决方案

### 方案1：使用内置启动脚本（推荐）

项目已经提供了 `start.bat` 启动脚本，它会自动处理Maven缺失的问题：

1. **双击启动**：
   - 在项目根目录找到 `start.bat` 文件
   - 双击运行该文件
   - 等待启动完成

2. **命令行启动**：
   ```cmd
   start.bat
   ```

### 方案2：手动启动（如果方案1失败）

如果 `start.bat` 无法正常工作，可以尝试手动启动：

1. **检查Java环境**：
   ```cmd
   java -version
   ```
   确保显示Java版本信息

2. **进入编译目录**：
   ```cmd
   cd target\classes
   ```

3. **启动应用**：
   ```cmd
   java -cp ".;..\dependency\*" com.example.petadoption.PetAdoptionApplication
   ```

### 方案3：安装Maven（长期解决方案）

1. **下载Maven**：
   - 访问 https://maven.apache.org/download.cgi
   - 下载最新的二进制版本

2. **安装配置**：
   - 解压到指定目录（如 `C:\maven`）
   - 添加环境变量：
     - `MAVEN_HOME`: `C:\maven`
     - `PATH`: 添加 `%MAVEN_HOME%\bin`

3. **验证安装**：
   ```cmd
   mvn -version
   ```

## 启动验证

### 1. 检查应用状态

启动成功后，你应该看到类似以下信息：
```
应用程序启动完成！
访问地址: http://localhost:8080
```

### 2. 测试应用访问

在浏览器中访问：
- http://localhost:8080 - 主页面
- http://localhost:8080/simple_login_test.html - 登录测试页面

### 3. 检查数据库连接

确保数据库服务正在运行，并且连接配置正确。

## 登录测试

### 1. 准备测试数据

如果数据库中没有测试用户，请执行以下SQL脚本：

```sql
-- 插入测试用户
INSERT INTO users (username, password, email, role, status, created_at, updated_at) 
VALUES ('admin', MD5('123456'), 'admin@example.com', 'ADMIN', 'ACTIVE', NOW(), NOW())
ON DUPLICATE KEY UPDATE updated_at = NOW();

INSERT INTO users (username, password, email, role, status, created_at, updated_at) 
VALUES ('123456', MD5('123456'), 'user123456@example.com', 'USER', 'ACTIVE', NOW(), NOW())
ON DUPLICATE KEY UPDATE updated_at = NOW();
```

### 2. 测试登录

使用以下测试用户：
- **管理员**: admin / 123456
- **普通用户**: 123456 / 123456
- **测试用户**: testuser / 123456

### 3. 使用测试页面

访问 `http://localhost:8080/simple_login_test.html` 进行详细的登录测试。

## 故障排除

### 常见问题

1. **端口被占用**：
   ```
   错误: 端口8080已被占用
   解决: 修改application.properties中的server.port配置
   ```

2. **数据库连接失败**：
   ```
   错误: 无法连接到数据库
   解决: 检查数据库服务是否启动，连接配置是否正确
   ```

3. **类路径问题**：
   ```
   错误: 找不到主类
   解决: 确保项目已正确编译，target/classes目录存在
   ```

### 调试步骤

1. **检查控制台输出**：
   - 查看启动过程中的错误信息
   - 确认所有组件加载成功

2. **检查网络连接**：
   - 确保8080端口未被占用
   - 检查防火墙设置

3. **检查数据库**：
   - 确认MySQL服务正在运行
   - 验证数据库连接配置

## 快速启动命令

```cmd
# 方案1：使用启动脚本
start.bat

# 方案2：直接启动（如果已编译）
cd target\classes
java -cp ".;..\dependency\*" com.example.petadoption.PetAdoptionApplication

# 方案3：使用Maven（如果已安装）
mvn spring-boot:run
```

## 验证清单

- [ ] Java环境已安装
- [ ] 数据库服务正在运行
- [ ] 应用程序成功启动
- [ ] 可以访问 http://localhost:8080
- [ ] 测试用户数据已插入
- [ ] 登录API测试通过

## 联系支持

如果按照以上步骤仍然无法解决问题，请提供：
1. 启动时的完整错误信息
2. 系统环境信息（Windows版本、Java版本等）
3. 数据库连接配置
4. 浏览器控制台的错误信息 