# 用户管理模块查询功能使用说明

## 功能概述

用户管理模块现在提供了完整的用户查询功能，包括：

1. **基础查询** - 查看所有用户
2. **条件搜索** - 按关键词、角色、状态搜索
3. **快速筛选** - 一键筛选特定角色或状态的用户
4. **分页查询** - 支持分页显示大量用户数据
5. **统计信息** - 显示用户总数、活跃用户等统计

## 功能详情

### 1. 基础用户列表
- **访问路径**: `/userManagement/list`
- **功能**: 显示所有用户的基本信息
- **显示内容**: 用户ID、用户名、邮箱、手机号、角色、状态、操作按钮

### 2. 高级搜索功能
- **访问路径**: `/userManagement/search`
- **搜索条件**:
  - **关键词**: 支持搜索用户名、邮箱、手机号
  - **角色**: ADMIN（管理员）、STAFF（员工）、USER（普通用户）
  - **状态**: ACTIVE（活跃）、INACTIVE（非活跃）、BANNED（封禁）

### 3. 快速筛选
- **全部用户**: `/userManagement/list`
- **管理员**: `/userManagement/list/role/ADMIN`
- **员工**: `/userManagement/list/role/STAFF`
- **普通用户**: `/userManagement/list/role/USER`
- **活跃用户**: `/userManagement/list/status/ACTIVE`
- **封禁用户**: `/userManagement/list/status/BANNED`

### 4. 分页查询
- **访问路径**: `/userManagement/list/page?page=1&size=10`
- **参数说明**:
  - `page`: 页码（默认1）
  - `size`: 每页显示数量（默认10）

## 界面功能

### 统计卡片
- 总用户数
- 活跃用户数
- 管理员数量
- 封禁用户数

### 搜索表单
- 关键词输入框
- 角色下拉选择
- 状态下拉选择
- 搜索和重置按钮

### 快速筛选按钮
- 一键筛选不同角色和状态的用户
- 按钮会根据当前筛选状态高亮显示

### 用户表格
- 用户头像（显示用户名首字母）
- 用户基本信息
- 角色和状态标签
- 编辑和删除操作按钮

### 分页导航
- 上一页/下一页按钮
- 页码导航
- 分页信息显示

## 技术实现

### 后端架构
- **Controller**: `UserManagementController`
- **Service**: `UserService` 和 `UserServiceImpl`
- **DAO**: `UserDao`
- **Mapper**: `UserMapper.xml`

### 数据库查询
- 使用MyBatis动态SQL实现条件查询
- 支持模糊搜索和精确匹配
- 分页查询使用LIMIT和OFFSET

### 前端特性
- 响应式设计，支持移动端
- 实时搜索过滤
- 美观的用户界面
- 交互式操作反馈

## 测试接口

### 1. 测试用户查询功能
- **GET**: `/test/users`
- **功能**: 测试所有用户查询功能
- **返回**: JSON格式的测试结果

### 2. 测试用户搜索功能
- **GET**: `/test/users/search?keyword=test&role=USER&status=ACTIVE`
- **功能**: 测试条件搜索功能
- **参数**: keyword（关键词）、role（角色）、status（状态）

## 使用示例

### 搜索所有管理员
```
GET /userManagement/search?role=ADMIN
```

### 搜索包含"admin"关键词的活跃用户
```
GET /userManagement/search?keyword=admin&status=ACTIVE
```

### 查看第2页用户（每页10条）
```
GET /userManagement/list/page?page=2&size=10
```

### 查看所有封禁用户
```
GET /userManagement/list/status/BANNED
```

## 注意事项

1. **权限控制**: 用户管理功能需要管理员权限
2. **数据安全**: 密码字段在显示时会被隐藏
3. **性能优化**: 大量数据时建议使用分页查询
4. **搜索性能**: 关键词搜索支持模糊匹配，但建议输入完整关键词以提高准确性

## 扩展功能

未来可以考虑添加的功能：
1. 用户导出功能（Excel、PDF）
2. 批量操作功能（批量删除、批量修改状态）
3. 用户活动日志
4. 更详细的用户统计报表
5. 用户数据导入功能 